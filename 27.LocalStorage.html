<!DOCTYPE html>
<html lang="en">
  <head>
    <title>POST STORY</title>
  </head>
  <body>
    <div id="root"></div>
    <script src="./js/react.development.js"></script>
    <script src="./js/react-dom.development.js"></script>
    <script src="./js/babel.js"></script>
    <script type="text/babel">
      const rootHandle = document.getElementById("root");

      class Post extends React.Component {
        constructor() {
          super();
          this.state = {
            title: "",
            story: ""
          };
        }

        handleStory = (e) => {
          const story = e.target.value;
          this.setState({
            story
          });
        };

        handleTitle = (e) => {
          const title = e.target.value;
          this.setState({
            title
          });
        };

        handleSubmit = (e) => {
          localStorage.setItem("title", this.state.title);
          localStorage.setItem("story", this.state.story);
        };

        handleGetStory = (e) => {
          const title = localStorage.getItem("title");
          const story = localStorage.getItem("story");

          this.setState({ title, story });
        };

        handleClear = (e) => {
          localStorage.clear("title");
          localStorage.clear("story");
        };

        render() {
          return (
            <div align="center">
              <h1>POST STORY</h1>
              <p>Title</p>
              <form onSubmit={this.handleSubmit}>
                <input
                  type="text"
                  onChange={this.handleTitle}
                  value={this.state.title}
                />
                <br />
                <p>Story</p>
                <textarea
                  cols="50"
                  rows="15"
                  value={this.state.story}
                  onChange={this.handleStory}
                  id="textBox"
                ></textarea>
                <br />
                <input
                  type="button"
                  value="Get Story"
                  onClick={this.handleGetStory}
                />
                <input type="submit" value="Save" />
                <input type="button" value="Clear" onClick={this.handleClear} />
              </form>
            </div>
          );
        }
      }
      ReactDOM.render(<Post />, rootHandle);
    </script>
  </body>
</html>
